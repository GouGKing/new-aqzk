<view class="container">
  <!-- é¡¶éƒ¨æç¤ºæ¡† -->
  <view class="status-alert" style="background-color: {{alertColor}}; opacity: {{alertVisible? '1' : '0'}}" wx:if="{{alertVisible}}">
    <text class="alert-text">{{alertMsg}}</text>
  </view>
  
  <!-- å†…å®¹åŒºåŸŸ -->
  <view class="content-container">
    <!-- æ·»åŠ ä¿¡æ¯ç•Œé¢ -->
    <view wx:if="{{currentTab === 'addInfo'}}" class="tab-content">
      <view class="header">
        <view class="setting-btn" bindtap="navigateToSettings">âš™ï¸</view>
      </view>
      <view class="button-container1">
        <button bindtap="showStudentInfoInput" class="center-button">å­¦ç”Ÿä¿¡æ¯</button>
      </view>
      <view wx:if="{{showStudentInfoFields}}" class="input-fields">
        <view class="input-wrapper">
        <input placeholder="è¯·è¾“å…¥å­¦å·" bindinput="onStudentIdInput" 
        class="rounded-input" />
      </view>
      <view class="input-wrapper">
        <input placeholder="è¯·è¾“å…¥å­¦ç”Ÿå§“å" bindinput="onStudentNameInput" 
        class="rounded-input" />
      </view>
      <view class="input-wrapper">
        <input placeholder="è¯·è¾“å…¥å¯å®¤å·" bindinput="onDormitoryNumberInput" 
        class="rounded-input" />
      </view>
      </view>
      <view class="button-container1">
        <button bindtap="addStudent">æ·»åŠ å­¦ç”Ÿä¿¡æ¯</button>
        <button bindtap="getStudents">è·å–å­¦ç”Ÿä¿¡æ¯</button>
      </view>
      <view wx:for="{{students}}" wx:key="student_id">
        <text>å­¦å·: {{item.student_id}}</text>
        <text>å§“å: {{item.student_name}}</text>
        <text>å¯å®¤å·: {{item.dormitory_number}}</text>
      </view>
    </view>
    
    <!-- å¯å®¤çŠ¶å†µç•Œé¢ -->
    <view wx:if="{{currentTab === 'dormStatus'}}" class="tab-content">
      <view class="dormitory-group">
        <!-- æ–°å¢å¤šä¸ªå¯å®¤æŒ‰é’® -->
        <view class="dorm-row">
          <view class="dorm-group" bindtap="handleDormitoryJump" data-dorm="614">
            <text>614å¯å®¤</text>
          </view>
          <view class="dorm-group" bindtap="handleDormitoryJump" data-dorm="615">
            <text>615å¯å®¤</text>
          </view>
          <view class="dorm-group" bindtap="handleDormitoryJump" data-dorm="616">
            <text>616å¯å®¤</text>
          </view>
        </view>
        <view class="dorm-row">
          <view class="dorm-group" bindtap="handleDormitoryJump" data-dorm="617">
            <text>617å¯å®¤</text>
          </view>
          <view class="dorm-group" bindtap="handleDormitoryJump" data-dorm="618">
            <text>618å¯å®¤</text>
          </view>
          <view class="dorm-group" bindtap="handleDormitoryJump" data-dorm="619">
            <text>619å¯å®¤</text>
          </view>
        </view>
        <view wx:if="{{showDormDetail}}" class="dorm-detail">
          <text>å¯å®¤æˆå‘˜ï¼š{{dormMembers}}</text>
          <text>å¯å®¤é•¿ï¼š{{dormLeader}}</text>
          <text>é—¨é”çŠ¶æ€ï¼š{{doorStatus}}</text>
        </view>
      </view>
    </view>
    
    <!-- å‘é€å…¬å‘Šç•Œé¢ -->
    <view wx:if="{{currentTab === 'sendAnnouncement'}}" class="tab-content announcement-page">
      <view class="page-container">
        <view class="announcement-container">
          <view class="input-group">
            <label for="link">å¤–éƒ¨é“¾æ¥èµ„æ–™</label>
            <input type="text" id="link" bindinput="handleLinkInput" 
                   placeholder="è¯·è¾“å…¥é“¾æ¥" value="{{link}}" />
          </view>
          <view class="input-group">
            <label for="text">æ–‡æœ¬å†…å®¹</label>
            <textarea class="announcement-textarea" id="text" 
                      bindinput="handleTextInput" placeholder="è¯·è¾“å…¥å…¬å‘Šå†…å®¹" 
                      value="{{text}}"></textarea>
          </view>
          <button class="submit-button" bindtap="submitData">æäº¤</button>
        </view>
      </view>
    </view>
  </view>
  
  <!-- åº•éƒ¨å¯¼èˆªæ  -->
  <view class="button-container">
    <button class="custom-btn {{currentTab === 'addInfo'? 'active' : ''}}" bindtap="switchTab" data-tab="addInfo">
      <view class="btn-icon">ğŸ“</view>
      <view class="btn-text">æ·»åŠ ä¿¡æ¯</view>
    </button>
    <button class="custom-btn {{currentTab === 'dormStatus'? 'active' : ''}}" bindtap="switchTab" data-tab="dormStatus">
      <view class="btn-icon">ğŸ </view>
      <view class="btn-text">å¯å®¤çŠ¶å†µ</view>
    </button>
    <button class="custom-btn {{currentTab === 'sendAnnouncement'? 'active' : ''}}" bindtap="switchTab" data-tab="sendAnnouncement">
      <view class="btn-icon">ğŸ“¢</view>
      <view class="btn-text">å‘é€å…¬å‘Š</view>
    </button>
  </view>
</view>  